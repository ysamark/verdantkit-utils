import { describe, expect, test } from "vitest";

import { compressString } from "./compressString";
import { decompressString } from "./decompressString";

describe("Test compressString util", () => {
  test("it should compress a given string", () => {
    const string = `
      eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MzAzMTg2MDAsImV4cCI6MTczMDMzMzAwMCwidXNlciI6eyJpZCI6ImNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmUiLCJuYW1lIjoiTWloYWVsIEtoZWVsIiwidXNlcm5hbWUiOiJtaWhhZWxfa2hlZWwiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDA1OjE0OjUwLjY5OFoiLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDA1OjE0OjUwLjY5OFoiLCJyb2xlcyI6W3siaWQiOjE1LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpvd25lciIsIm5hbWUiOiJDb21wYW55IG93bmVyIiwiZGVzY3JpcHRpb24iOiJUaGUgY29tcGFueSBvd25lciIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsImNvbXBhbnlJZCI6ImNtMncxOTl2cjAwMTcxY2FuOHdpOTBkMzgiLCJwZXJtaXNzaW9ucyI6W3siaWQiOjE4Nywia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6Y3JlYXRlIiwibmFtZSI6IkNyZWF0ZSBDb21wYW55IiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgY3JlYXRpbmcgYSBuZXcgY29tcGFueS4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoxODgsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OmRlbGV0ZSIsIm5hbWUiOiJEZWxldGUgQ29tcGFueSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIGRlbGV0aW5nIGFuIGV4aXN0aW5nIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MTg5LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTplZGl0IiwibmFtZSI6IlVwZGF0ZSBDb21wYW55IiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgdXBkYXRpbmcgY29tcGFueSBkZXRhaWxzLiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjE5MCwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6aW50ZWdyYXRpb246Y29uZmlndXJlIiwibmFtZSI6IkNvbmZpZ3VyZSBJbnRlZ3JhdGlvbnMiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjb25maWd1cmluZyBleHRlcm5hbCBpbnRlZ3JhdGlvbnMgZm9yIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjE5MSwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6bWVtYmVyczpjcmVhdGUiLCJuYW1lIjoiQ3JlYXRlIFVzZXIiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjcmVhdGluZyBuZXcgdXNlcnMgd2l0aGluIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjE5Miwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6bWVtYmVyczppbnZpdGUiLCJuYW1lIjoiSW52aXRlIGNvbXBhbnkgbWVtYmVycyIsImRlc2NyaXB0aW9uIjoiVXNlciBjYW4gc2VuZCBtZW1iZXJzaGlwIGludml0YXRpb24iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoxOTMsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55Om1lbWJlcnM6ZWRpdCIsIm5hbWUiOiJVcGRhdGUgVXNlciIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIHVwZGF0aW5nIHVzZXIgZGV0YWlscy4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoxOTQsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55Om1lbWJlcnM6ZGVsZXRlIiwibmFtZSI6IkRlbGV0ZSBVc2VyIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgZGVsZXRpbmcgdXNlcnMgZnJvbSB0aGUgY29tcGFueS4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoxOTUsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnBlcm1pc3Npb246bWFuYWdlIiwibmFtZSI6Ik1hbmFnZSBVc2VyIFBlcm1pc3Npb25zIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgbWFuYWdpbmcgdXNlciBwZXJtaXNzaW9ucyB3aXRoaW4gdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MTk2LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpmb3JtOmNyZWF0ZSIsIm5hbWUiOiJDcmVhdGUgQnVkZ2V0IEZvcm0iLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjcmVhdGluZyBidWRnZXQgZm9ybXMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MTk3LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpmb3JtOmVkaXQiLCJuYW1lIjoiVXBkYXRlIEJ1ZGdldCBGb3JtIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgZWRpdGluZyBidWRnZXQgZm9ybXMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MTk4LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpmb3JtOmRlbGV0ZSIsIm5hbWUiOiJEZWxldGUgQnVkZ2V0IEZvcm0iLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBkZWxldGluZyBidWRnZXQgZm9ybXMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MTk5LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpidWRnZXQ6dmlld19kcmFmdHMiLCJuYW1lIjoiVmlldyBEcmFmdCBCdWRnZXRzIiwiZGVzY3JpcHRpb24iOiJBbGxvd3Mgdmlld2luZyBzYXZlZCBkcmFmdCBidWRnZXRzLiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIwMCwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6Zm9ybTpkdXBsaWNhdGUiLCJuYW1lIjoiRHVwbGljYXRlIEJ1ZGdldCBGb3JtIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgZHVwbGljYXRpbmcgZXhpc3RpbmcgYnVkZ2V0IGZvcm1zLiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIwMSwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6Zm9ybTppbXBvcnQiLCJuYW1lIjoiSW1wb3J0IEJ1ZGdldCBGb3JtIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgaW1wb3J0aW5nIGJ1ZGdldCBmb3Jtcy4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMDIsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnJlcG9ydDp2aWV3X2ZpbmFuY2lhbCIsIm5hbWUiOiJWaWV3IEZpbmFuY2lhbCBSZXBvcnRzIiwiZGVzY3JpcHRpb24iOiJBbGxvd3Mgdmlld2luZyBjb21wYW55IGZpbmFuY2lhbCByZXBvcnRzLiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIwMywia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6cmVwb3J0OnZpZXdfcGVyZm9ybWFuY2UiLCJuYW1lIjoiVmlldyBQZXJmb3JtYW5jZSBSZXBvcnRzIiwiZGVzY3JpcHRpb24iOiJBbGxvd3Mgdmlld2luZyBwZXJmb3JtYW5jZSByZXBvcnRzLiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIwNCwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6cmVwb3J0OmV4cG9ydCIsIm5hbWUiOiJFeHBvcnQgUmVwb3J0cyIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIGV4cG9ydGluZyBmaW5hbmNpYWwgYW5kIHBlcmZvcm1hbmNlIHJlcG9ydHMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjA1LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTphcGk6Y29uZmlndXJlIiwibmFtZSI6IkNvbmZpZ3VyZSBBUEkgYW5kIEludGVncmF0aW9ucyIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIGNvbmZpZ3VyaW5nIEFQSSBhbmQgZXh0ZXJuYWwgaW50ZWdyYXRpb25zIGZvciB0aGUgY29tcGFueS4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMDYsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnNlY3VyaXR5OmNvbmZpZ3VyZSIsIm5hbWUiOiJDb25maWd1cmUgU2VjdXJpdHkgUGFyYW1ldGVycyIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIGNvbmZpZ3VyaW5nIHN5c3RlbSBzZWN1cml0eSBhbmQgYXVkaXQgcGFyYW1ldGVycy4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMDcsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnRlYW06bWFuYWdlX3NhbGVzIiwibmFtZSI6Ik1hbmFnZSBTYWxlcyBUZWFtIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgbWFuYWdpbmcgdGhlIHNhbGVzIHRlYW0gYW5kIHRoZWlyIGFjdGl2aXRpZXMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjA4LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpzZWxsZXI6YXNzaWduX3Rhc2tzIiwibmFtZSI6IkFzc2lnbiBUYXNrcyB0byBTZWxsZXJzIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgYXNzaWduaW5nIHRhc2tzIGFuZCBidWRnZXRzIHRvIHNlbGxlcnMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjA5LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpidWRnZXQ6Y3JlYXRlIiwibmFtZSI6IkNyZWF0ZSBCdWRnZXQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjcmVhdGluZyBuZXcgYnVkZ2V0cyBmb3IgY2xpZW50cy4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMTAsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OmZvcm06ZmlsbCIsIm5hbWUiOiJGaWxsIEJ1ZGdldCBGb3JtIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgZmlsbGluZyBpbiBjdXN0b21pemVkIGJ1ZGdldCBmb3Jtcy4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMTEsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OmJ1ZGdldDp2aWV3X2hpc3RvcnkiLCJuYW1lIjoiVmlldyBCdWRnZXQgSGlzdG9yeSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIHZpZXdpbmcgYnVkZ2V0IGhpc3RvcnkgZm9yIGNsaWVudHMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjEyLCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpjbGllbnQ6YWRkIiwibmFtZSI6IkFkZCBDbGllbnQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBhZGRpbmcgbmV3IGNsaWVudHMgdG8gdGhlIHN5c3RlbS4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMTMsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OmNsaWVudDplZGl0IiwibmFtZSI6IlVwZGF0ZSBDbGllbnQgRGF0YSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIHVwZGF0aW5nIGNsaWVudCBpbmZvcm1hdGlvbi4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMTQsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnNhbGVzOm1hbmFnZV9waXBlbGluZSIsIm5hbWUiOiJNYW5hZ2UgU2FsZXMgUGlwZWxpbmUiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBtYW5hZ2luZyB0aGUgc2FsZXMgcGlwZWxpbmUgYW5kIG9wcG9ydHVuaXRpZXMuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjE1LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpjb250ZW50OmNyZWF0ZSIsIm5hbWUiOiJDcmVhdGUgTWFya2V0aW5nIENvbnRlbnQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjcmVhdGluZyBuZXcgbWFya2V0aW5nIGNvbnRlbnQuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjE2LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpjb250ZW50OmVkaXRfdmlzdWFsIiwibmFtZSI6IkVkaXQgVmlzdWFsIENvbnRlbnQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBlZGl0aW5nIHZpc3VhbCBhbmQgZGVzY3JpcHRpdmUgY29udGVudCBmb3IgdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjE3LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpmb3JtOmFjY2Vzc19maWxsIiwibmFtZSI6IkFjY2VzcyBhbmQgRmlsbCBCdWRnZXQgRm9ybXMiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBhc3Npc3RhbnRzIHRvIGZpbGwgaW4gYnVkZ2V0IGZvcm1zLiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIxOCwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6Y2xpZW50OmVkaXRfc3VwcG9ydCIsIm5hbWUiOiJVcGRhdGUgQ2xpZW50IERhdGEgZm9yIFN1cHBvcnQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBhc3Npc3RhbnRzIHRvIHVwZGF0ZSBjbGllbnQgaW5mb3JtYXRpb24gYXMgZGlyZWN0ZWQuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjE5LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpjbGllbnQ6dmlld19oaXN0b3J5IiwibmFtZSI6IlZpZXcgQ2xpZW50IEhpc3RvcnkiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBhc3Npc3RhbnRzIHRvIHZpZXcgY2xpZW50IGhpc3RvcnkgZm9yIHN1cHBvcnQuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjIwLCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTphc3Npc3RhbnQ6cHJlcGFyZV9kb2N1bWVudHMiLCJuYW1lIjoiQXNzaXN0IHdpdGggRG9jdW1lbnQgUHJlcGFyYXRpb24iLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBhc3Npc3RhbnRzIHRvIHByZXBhcmUgZG9jdW1lbnRzIGFuZCBzY2hlZHVsZSBtZWV0aW5ncyBmb3IgdGVhbSBzdXBwb3J0LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIyMSwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpjcmVhdGUiLCJuYW1lIjoiQ3JlYXRlIFNlcnZpY2UiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjcmVhdGluZyBuZXcgc2VydmljZXMgZm9yIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIyMiwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpyZWFkIiwibmFtZSI6IlJlYWQgU2VydmljZSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIHZpZXdpbmcgc2VydmljZSBkZXRhaWxzIGluIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIyMywia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTplZGl0IiwibmFtZSI6IlVwZGF0ZSBTZXJ2aWNlIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgdXBkYXRpbmcgZXhpc3Rpbmcgc2VydmljZXMgZm9yIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIyNCwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpkZWxldGUiLCJuYW1lIjoiRGVsZXRlIFNlcnZpY2UiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBkZWxldGluZyBzZXJ2aWNlcyBmcm9tIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIyNSwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpzY29wZTpjcmVhdGUiLCJuYW1lIjoiQ3JlYXRlIFNjb3BlIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgY3JlYXRpbmcgbmV3IHNjb3BlcyB3aXRoaW4gdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjI2LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpzZXJ2aWNlOnNjb3BlOnJlYWQiLCJuYW1lIjoiUmVhZCBTY29wZSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIHZpZXdpbmcgc2NvcGUgZGV0YWlscyBmb3IgdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjI3LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpzZXJ2aWNlOnNjb3BlOmVkaXQiLCJuYW1lIjoiVXBkYXRlIFNjb3BlIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgdXBkYXRpbmcgZXhpc3Rpbmcgc2NvcGVzIHdpdGhpbiB0aGUgY29tcGFueS4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMjgsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnNlcnZpY2U6c2NvcGU6ZGVsZXRlIiwibmFtZSI6IkRlbGV0ZSBTY29wZSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIGRlbGV0aW5nIHNjb3BlcyBmcm9tIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIyOSwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpmb3JtYXQ6Y3JlYXRlIiwibmFtZSI6IkNyZWF0ZSBGb3JtYXQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjcmVhdGluZyBuZXcgZm9ybWF0cyBmb3IgY29tcGFueSBzZXJ2aWNlcyBvciBwcm9kdWN0cy4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMzAsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnNlcnZpY2U6Zm9ybWF0OnJlYWQiLCJuYW1lIjoiUmVhZCBGb3JtYXQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyB2aWV3aW5nIGZvcm1hdCBkZXRhaWxzIHdpdGhpbiB0aGUgY29tcGFueS4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMzEsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnNlcnZpY2U6Zm9ybWF0OmVkaXQiLCJuYW1lIjoiVXBkYXRlIEZvcm1hdCIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIHVwZGF0aW5nIGV4aXN0aW5nIGZvcm1hdHMgZm9yIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIzMiwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpmb3JtYXQ6ZGVsZXRlIiwibmFtZSI6IkRlbGV0ZSBGb3JtYXQiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBkZWxldGluZyBmb3JtYXRzIGZyb20gdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjMzLCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpzZXJ2aWNlOmZvcm1hdDp0ZW1wbGF0ZTpjcmVhdGUiLCJuYW1lIjoiQ3JlYXRlIFRlbXBsYXRlIiwiZGVzY3JpcHRpb24iOiJBbGxvd3MgY3JlYXRpbmcgbmV3IHRlbXBsYXRlcyBmb3IgdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjM0LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpzZXJ2aWNlOmZvcm1hdDp0ZW1wbGF0ZTpyZWFkIiwibmFtZSI6IlJlYWQgVGVtcGxhdGUiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyB2aWV3aW5nIHRlbXBsYXRlIGRldGFpbHMgd2l0aGluIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIzNSwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpmb3JtYXQ6dGVtcGxhdGU6ZWRpdCIsIm5hbWUiOiJVcGRhdGUgVGVtcGxhdGUiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyB1cGRhdGluZyBleGlzdGluZyB0ZW1wbGF0ZXMgZm9yIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIzNiwia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpmb3JtYXQ6dGVtcGxhdGU6ZGVsZXRlIiwibmFtZSI6IkRlbGV0ZSBUZW1wbGF0ZSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIGRlbGV0aW5nIHRlbXBsYXRlcyBmcm9tIHRoZSBjb21wYW55LiIsImNyZWF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInVwZGF0ZWRBdCI6IjIwMjQtMTAtMzBUMTU6MzA6MDQuNzQyWiIsInJvbGVJZCI6MTV9LHsiaWQiOjIzNywia2V5IjoiZ3JhZmljYV9zYW1laGFkYTpjbTJ2ZmEydG0wMDByMWNhbmNtYW1wbmJlOmNvbXBhbnk6c2VydmljZTpmb3JtYXQ6ZmVhdHVyZTpjcmVhdGUiLCJuYW1lIjoiQ3JlYXRlIEZlYXR1cmUiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyBjcmVhdGluZyBuZXcgZmVhdHVyZXMgZm9yIHRoZSBjb21wYW554oCZcyBwcm9kdWN0cyBvciBzZXJ2aWNlcy4iLCJjcmVhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJ1cGRhdGVkQXQiOiIyMDI0LTEwLTMwVDE1OjMwOjA0Ljc0MloiLCJyb2xlSWQiOjE1fSx7ImlkIjoyMzgsImtleSI6ImdyYWZpY2Ffc2FtZWhhZGE6Y20ydmZhMnRtMDAwcjFjYW5jbWFtcG5iZTpjb21wYW55OnNlcnZpY2U6Zm9ybWF0OmZlYXR1cmU6cmVhZCIsIm5hbWUiOiJSZWFkIEZlYXR1cmUiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyB2aWV3aW5nIGZlYXR1cmUgZGV0YWlscyB3aXRoaW4gdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjM5LCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpzZXJ2aWNlOmZvcm1hdDpmZWF0dXJlOmVkaXQiLCJuYW1lIjoiVXBkYXRlIEZlYXR1cmUiLCJkZXNjcmlwdGlvbiI6IkFsbG93cyB1cGRhdGluZyBleGlzdGluZyBmZWF0dXJlcyBmb3IgdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX0seyJpZCI6MjQwLCJrZXkiOiJncmFmaWNhX3NhbWVoYWRhOmNtMnZmYTJ0bTAwMHIxY2FuY21hbXBuYmU6Y29tcGFueTpzZXJ2aWNlOmZvcm1hdDpmZWF0dXJlOmRlbGV0ZSIsIm5hbWUiOiJEZWxldGUgRmVhdHVyZSIsImRlc2NyaXB0aW9uIjoiQWxsb3dzIGRlbGV0aW5nIGZlYXR1cmVzIGZyb20gdGhlIGNvbXBhbnkuIiwiY3JlYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwidXBkYXRlZEF0IjoiMjAyNC0xMC0zMFQxNTozMDowNC43NDJaIiwicm9sZUlkIjoxNX1dfV19LCJpc3MiOiJ1cm46bGV4Y2UuYXBwL2F1dGg6aXNzdWVyIiwiYXVkIjoidXJuOmxleGNlLmFwcC9hdXRoOmF1ZGllbmNlIn0.sjPzLodnoBLiO9zLtStMlLPn7olarI9UGZp-pgoHaTw
    `.repeat(5);

    const compressedString = compressString(string);
    const decompressedString = decompressString(compressedString);

    expect(compressedString).toBeTypeOf("string");
    expect(compressedString.length).toBeLessThan(6000);
    expect(decompressedString.length).toBe(string.length);
    expect(decompressedString).toBe(string);
  });
});
